<!-- Wrapper-->
<div id="wrapper wrapper-content animated fadeInRight" ng-controller="ProjectCreateEditCtrl as controller">


    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <ol class="breadcrumb">
                <br/>
                <li>
                    <span>Project Management</span>
                </li>
                <li class="active">
                    <strong>{{controller.isEdit ? "Edit" : "Create"}} Project</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">

        </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
            <div class="col-lg-12 animated fadeInLeft" ng-show="controller.alert != null">
                <alert type="{{controller.alert.type}}" close="controller.alert=null">
                    <strong>{{controller.alert.title}}</strong> {{controller.alert.message}}
                </alert>
            </div>
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>{{controller.isEdit ? "Edit" : "Create"}} 
                        </h5>


                        <div ng-if="controller.isEdit" class="ibox-tools">
                            <a ng-click="controller.delete()" class="btn btn-danger btn-xs">Delete</a>
                        </div>
                    </div>
                    <div class="ibox-content">
                        <form name="form" method="get" class="form-horizontal" novalidate>
                            <div class="form-group required" ng-class="{ 'has-error' : form.title.$invalid && !form.title.$pristine }">
                                <label class="col-sm-2 control-label">Title</label>

                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name='title' ng-model='controller.project.title' required>
                                    <small ng-show="form.title.$invalid && !form.title.$pristine" class="help-block animated fadeInLeft">Title is required.</small>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Description</label>

                                <div class="col-sm-10">
                                    <input type="text" class="form-control" ng-model='controller.project.description'>

                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Latitude</label>

                                <div class="col-sm-10">
                                    <input type="text" class="form-control" ng-model='controller.project.latitude' placeholder='eg: 3.131778'>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Longitude</label>

                                <div class="col-sm-10">
                                    <input type="text" class="form-control" ng-model='controller.project.longitude' placeholder='eg: 101.689157'>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Features
                                    <br/><small>Max 10 features</small>
                                </label>

                                <div class="col-sm-10 m-b" ng-class="{'col-sm-offset-2':$index!=0}" ng-repeat="feature in controller.project.features track by $index">
                                    <div class="input-group">
                                        <input type="text" class="form-control" ng-model="controller.project.features[$index]">
                                        <span class="input-group-btn"> 
                                        <button type="button" class="btn btn-danger" ng-click="controller.project.features.splice($index,1)"><i class='fa fa-trash'></i></button> 
                                        </span>
                                    </div>
                                </div>
                                <div class="col-sm-10" ng-class="{'col-sm-offset-2':controller.project.features.length>0}">
                                    <button class="btn btn-primary" type="button" ng-click="controller.project.features.push('')" ng-disabled="controller.project.features.length>=10">Add Feature</button>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Main Photo
                                    <br/><small>Max 1 file</small>
                                </label>
                                <div class="col-sm-10 m-b">
                                    <div id='mainPhotos' maxFiles=1 class="dropzone" drop-zone=""></div>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Photos
                                    <br/><small>Max 10 files</small>
                                </label>
                                <div class="col-sm-10 m-b">
                                    <div id='photos' maxFiles=10 class="dropzone" drop-zone=""></div>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">For VIP</label>

                                <div class="col-sm-10">
                                    <input type="text" class="form-control" ng-model='controller.project.forVIP'>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <div class="col-sm-4 col-sm-offset-2">
                                    <a class="btn btn-white" type="submit" ui-sref="index.project-list">Back</a>
                                    <button class="btn btn-primary" type="submit" ng-click='controller.save()' ng-disabled="form.$invalid">Save</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>